\input{../header.tex}

\usepackage{listings}
\usepackage{array}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\begin{document}

    % Change the following values to true to show the solutions or/and the hints
    \ShowSolutiontrue
    \ShowConseiltrue
    \titre
    \cours{Structure de données, Itération et récursivité - Avancés}

    Le but de cette séance est de mettre en pratique les connaissances apprises en cours. Elle portera essentiellement sur les structures de données qui seront utilisées lors des prochaines séances de cours/Travaux Pratiques. Les structures de données abordées lors de cette séance sont les tuples, les listes et les dictionnaires. Lors de cette séance, nous aborderons aussi les notions d'itération et de récursivité. 

    Au terme de cette séance, l'étudiant sera capable de distinguer une structure de données immuable et non immuable, écrire un programme de façon simplifiée en utilisant les notions d'itération et de récursivité.

    Le code présenté dans les énoncés se trouve sur Moodle, dans le dossier ``Exercices $>$ Code''. Le temps mentionné (\faClock) est à titre indicatif.

    \section{Structures de données}

    Dans la première partie de cette section, les exercices devront être traités en Python. Dans la seconde partie, les exercices seront traités en Java.
    \subsection{Tuples}
    Pour rappel, les tuples sont des listes d'éléments immuables, ce qui signifie que ces listes ne peuvent pas être modifiées.
    L'une des particularités des tuples est la possibilité d'y inclure des données de types différents.
    
    Les tuples sont utiles pour stocker des données que l'on va réutiliser plus tard.
    \\
    En Python, pour créer un tuple, il suffit de définir une variable et de lui assigner des valeurs entre parenthèses et séparer les valeurs entre elles par des virgules:
    \begin{Example}{\faTerminal \quad Exemple}
        \begin{lstlisting}[language=Python]
            mon_tuple = (1,"une chaîne de caractères",3,4)   \end{lstlisting}

    \end{Example}

    \begin{Exercice}[5 minutes] \textbf{Manipulation d'un tuple}\\
        Créez un tuple nommé \lstinline{mon_tuple} contenant les chiffres 1,2,3,4 et 5. Obtenez le nombre d'éléments contenus dans votre tuple et stockez le résultat dans une nouvelle variable nommée \lstinline{taille_tuple}. Pour finir, affichez le contenu de \lstinline{taille_tuple}.
    
        \begin{conseil}
            Pour calculer la taille d'un tuple, ou d'une liste, vous pouvez utiliser la fonction \lstinline{len()}.
        \end{conseil}
        
        \begin{solution}
            \lstinputlisting{resources/question2.py} 
        \end{solution}
    \end{Exercice}
    
    \subsection{Listes}
    La différence entre une liste et un tuple est que l'on peut modifier les éléments d'une liste. Par exemple, il est possible de remplacer un élément d'une liste par un autre tandis qu'il est impossible de le faire avec un tuple.
    \\
    Pour créer une liste, il suffit de définir une variable avec des valeurs entre crochets :
    \begin{Example}{\faTerminal \quad Exemple}
        \begin{lstlisting}[language=Python]
            ma_liste = [1,2,3,4,5]   \end{lstlisting}
    \end{Example}
    
    \begin{Exercice}[5 minutes] \textbf{Manipulation d'une liste}\\
       Créez une liste nommée \lstinline{ma_liste} contenant les nombres 1,2,3,4 et 5. Vérifiez si le chiffre 6 est dans votre liste. S'il y est, affichez ``OK'', s'il n'y est pas, rajoutez le à votre liste. \\
       
       Utilisez le code ci-dessous pour contrôler que tout a bien été ajouté : \\
       
       \begin{lstlisting}[language=Python]
            for c in ma_liste :
            	print(c)   \end{lstlisting}
    
        \begin{conseil}
            Comme pour les tuples, vous pouvez utiliser l'opérateur \lstinline{in} pour contrôler si un élément est présent dans votre liste.
        \end{conseil}
        
        \begin{solution}
            \lstinputlisting{resources/question6.py} 
        \end{solution}
    \end{Exercice}

	\subsection{Dictionnaires}
	Les dictionnaires sont des listes associatives, c’est-à-dire des listes qui lient une valeur à une autre. Dans un dictionnaire en papier, les mots sont liés à leur définition. \\
	
	Dans un dictionnaire Python, les éléments sont liés par une relation dite \lstinline{clé, valeur}. La clé étant le moyen de “retrouver” notre valeur dans notre dictionnaire. Par exemple, dans un dictionnaire en papier, nous pouvons retrouver une définition en cherchant le mot qui lui correspond, alternativement, nous pouvons retrouver le contenu d’une page d’un livre en utilisant le numéro de celle-ci, dans ce cas le numéro est la clé et le texte de la page, la valeur. \\
	
	Pour créer un dictionnaire, il suffit de lister les couples \lstinline{clé, valeurs} entre 2 accolades : \\
	
	 \begin{lstlisting}[language=Python]
          elon_musk = {
                "prénom": "Elon",
                "nom": "Musk",
                "age": 48,
                "talents": ["programmation", "entreprenariat", "aéronautique"]
            }   \end{lstlisting}
		
    \begin{Exercice}[5 minutes] \textbf{Manipulation d'un dictionnaire}\\
       Gardez le dictionnaire de la question 7 des exercices basiques. La traduction du mot ``oiseau'' est mal orthographiée, modifiez la valeur associée à ``oiseau" pour qu'elle devienne ``bird''. Ajoutez un nouvel élément au dictionnaire en associant le mot ``horse'' au mot ``cheval''. \\
       
       Utilisez ce code pour avoir un aperçu des changements:
       
       \begin{lstlisting}[language=Python]
            for x in fr_eng :
    			print(x + " : " + fr_eng[x])   \end{lstlisting}
    
        \begin{conseil}
            Comme avec les listes, vous pouvez accéder aux éléments d'un dictionnaire en utilisant des crochets \lstinline{[]}. Seulement cette fois-ci, au lieu d'y mettre l'index, mettez-y la clé associée à l'élément auquel vous voulez accéder.
        \end{conseil}
        
        \begin{solution}
            \lstinputlisting{resources/question8.py} 
        \end{solution}
    \end{Exercice}
    
    
    \subsection{Structures de données (Java)}
    Dans cette partie, les exercices devront être effectués en Java. \\
    Les syntaxes des principales structures de données abordées dans cette partie sont les suivantes: \\
    \textbf{Déclaration d'un tuple en Java:}
     \begin{lstlisting}[language=Java]
              Object[] mon_tuple = {1,2,3,4}; \end{lstlisting} 
              
    \textbf{\\ Déclaration d'une liste en Java:}
    
    \begin{lstlisting}[language=Java]
              List ma_liste = List.of(1,2,3,4); \end{lstlisting}
            
    \textbf{\\ Déclaration d'un dictionnaire en Java:} 
    
    \begin{lstlisting}[language=Java]
              HashMap mon_dictionnaire = new HashMap(Map.of("un", 1, "deux", 2)); \end{lstlisting}
              
    
    \begin{Example}{\faTerminal \quad Informations utiles}
        \begin{itemize}
            \item En Java, les listes sont immuables, comme les tuples en Python. Au cas où vous devriez modifier une liste, on vous recommande d'utiliser une liste liée (\lstinline{LinkedList}). Une liste liée se déclare comme suit :
    
            \begin{lstlisting}[language=Java]
                List liste = List.of(1,2,3,4);
                LinkedList ma_liste = new LinkedList(liste); \end{lstlisting}
            \item En Java, les listes ne peuvent contenir que des éléments homogènes c'est-à-dire de même type.
        \end{itemize} 
        
    \end{Example}
    
    \begin{Exercice}[5 minutes] \textbf{Lecture de code}\\
      	Qu'affichera le code suivant ?
      	
      	\lstinputlisting{resources/question12.java}
      	
      	Choisissez parmi les possibilités suivantes :
      	
      	\begin{itemize}
      	\item 3 \\
      	2 \\
      	quatre \\
      	zero\\
      	\item 4 \\
      	6 \\
      	un \\
      	trois\\
      	\item 3 \\
      	2 \\
      	un \\
      	trois\\
      	\item 4 \\
      	6 \\
      	quatre \\
      	zero \\
      	\end{itemize}
    
        \begin{conseil}
           Commencez par voir quel est l'élément de la liste qui sera retourné. Ensuite, regardez dans le dictionnaire quelle est la valeur associée à cet élément qui vient de nous être retourné.		     
        \end{conseil}
        
        \begin{solution}
        4 \\
      	6 \\
      	un \\
      	trois
        \end{solution}
    \end{Exercice}
    
    \section{Itération}
    
    Quelques rappels de concepts théoriques: \\
    
    \begin{itemize}
    	\item L'itération désigne l'action de répéter un processus (généralement à l'aide d'une boucle) jusqu'à ce qu'une condition particulière soit remplie.
    	\item Il y a deux types de boucles qui sont majoritairement utilisées: \\
    	
    	\textbf{Boucle for}: Une boucle \lstinline{for} permet d'itérer sur un ensemble. Cet ensemble peut être une liste, un dictionnaire, une collection, ... La syntaxe d'une boucle en Python est la suivante \lstinline{for nom de variable in} suivi du nom de l'élément sur lequel vous voulez itérer. La variable prendra la valeur de chaque élément dans la liste, un par un. \\
    	
    	
             	
     	La syntaxe en Java est la suivante: \lstinline{for (type nom_de_variable; condition de fin de boucle; incrémentation à chaque itération)} suivi d'une accolade. \\
     	
        	 
        \textbf{Boucle while}: Les boucles \lstinline{while} sont des boucles qui s’exécutent de façon continue jusqu’à ce qu’une condition soit remplie. La syntaxe est la suivante: En Python, on écrit d’abord \lstinline{while}, suivi de la condition à atteindre.\\
     	
     	En Java, il n'y a pas de différence majeure à part le fait qu'il faille mettre entre parenthèses la condition et les deux points sont remplacés par des accolades. \\
     	
     	
     	\item La fonction \lstinline{range(n)} permet de créer une liste de nombres de 0 à la valeur passée en argument moins 1 (n-1). Lorsqu’elle est combinée à une boucle \lstinline{for}, on peut itérer sur une liste de nombres de 0 à n-1. \\
     	
     	\item Si vous avez fait une erreur dans votre code, il se peut que la boucle \lstinline{while} ne remplisse jamais la condition lui permettant de sortir. On parle dans ce cas d'une \lstinline{boucle infinie}. Ceci peut entraîner un crash de votre programme, voire même de votre ordinateur. Il faut toujours s'assurer qu'il y' ait une condition valide dans une boucle \lstinline{while}. \\\\
     	
     	\end{itemize}
     	
   \begin{Exercice}[10 minutes] \textbf{Création d'une liste à partir d'un tuple (Python)}
      	
      	Transformer le tuple (1,4,5,8) en une liste à l'aide d'une boucle \lstinline{for}.
    
        \begin{conseil}
           \begin{itemize}
           	\item Déclarer une liste vide à l'extérieur de la boucle.
           	\item La boucle permet d'itérer sur le tuple.
           	\item Rajouter un à un les éléments du tuple dans la liste.
           \end{itemize}
		     
        \end{conseil}
        
        \begin{solution}
            \lstinputlisting{resources/question19.py}
        \end{solution}
    \end{Exercice}

     \section{Récursivité}
    
    La récursivité est le fait d'appeler une fonction de façon récursive c'est-à-dire une fonction qui s'appelle elle-même de façon directe ou indirecte. \\\\

    \begin{Exercice}[15 minutes] \textbf{Fibonacci - Java} 

Ecrivez deux fonctions permettant de calculer un nombre donné de la suite de Fibonacci. L'une doit utiliser la récursivité, et l'autre l'itération. Pour rappel, chaque élément de la suite de Fibonacci est la somme des deux derniers éléments. L'élément 0 vaut 0, l'élément 1 vaut 1 et l'élément 2 vaut 1. \\

Début de la suite : [0,1,1,2,3,5,8,13,...]
    

    \begin{conseil} 
        L'algorithme permettant de faire une suite de Fibonacci a été présenté dans les diapositives du cours. En cas de difficulté, n'hésitez pas à vous y référer.
    \end{conseil} 

    \begin{solution}
        Via Itération : \\
        
            \lstinputlisting{resources/question4ait.java} 
            
        Via récursivité : \\
        
            \lstinputlisting{resources/question4ar.java}
    \end{solution} 

    \end{Exercice}

\end{document}
