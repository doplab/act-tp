\input{../header.tex}
\usepackage{array}
\usepackage{blindtext}
\usepackage{multicol}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\begin{document}
% Change the following values to true to show the solutions or/and the hints
\ShowSolutiontrue
\ShowConseiltrue
\ShowNotefalse
\titre
\cours{Consolidation 2 - Programmation Orientée Objet}

Le but de cette séance est d'approfondir les notions de programmation orientée objet vues précédemment. Les exercices sont construits autour des concepts d'héritage, de classes abstraites et d'interfaces. Au terme de cette séance, vous devez être en mesure de différencier une classe abstraite d'une interface, savoir à quel moment utiliser l'un ou l'autre, utiliser le concept d'héritage multiple, factoriser votre code afin de le rendre mieux structuré et plus lisible.

Cette série d'exercices est divisée en 3 sections dont les premières portant sur les classes abstraites et les interfaces en général. La dernière section comporte des exercices pratiques sur les notions abordées précédemment.

Les exercices doivent être faits uniquement en \lstinline{Java}.

Le code présenté dans les énoncés se trouve sur Moodle, dans le dossier \lstinline{Ressources}.

\section{Programmation Orientée Objet - Classes abstraites}
% Ajouter deux exercices sur les classes abstraites

\begin{Exercice}[10 minutes]{Création d'une classe abstraite}

	Une classe abstraite est une classe dont l'implémentation n'est pas complète et qui n'est pas instanciable. Elle est déclarée en utilisant le mot-clé \lstinline{abstract}. Elle peut inclure des méthodes abstraites ou non. Bien que ne pouvant être instanciées, les classes abstraites servent de base à des sous-classes qui en sont dérivées.
	Lorsqu'une sous-classe est dérivée d'une classe abstraite, elle complète généralement l'implémentation de toutes les méthodes abstraites de la classe-mère. Si ce n'est pas le cas, la sous-classe doit également être déclarée comme abstraite.
	
	\lstinputlisting{ressources/exo1.java} 
	
	\begin{itemize}
		\item Implémentez une classe abstraite appelée \lstinline{Item}.
		1. Elle doit avoir 4 variables (attributs) d'instance et une variable de classe, qui sont les suivantes:
		\lstinputlisting{ressources/variables_exo1.java} 
		\begin{conseil}
			Les variables d'instance sont créées lors de l'instanciation d'un objet (à l'aide du mot clé \lstinline{new}) et détruites lors de la destruction de l'objet. Les variables de classes (variables statiques), quant à elles, sont créées lors de l'exécution du programme et détruites lors de l'arrêt du programme. En Java, les variables de classes sont accessibles en utilisant le nom de la classe soit: \lstinline{ClassName.VariableName}.
		\end{conseil}
		\item Créer un constructeur pour initialiser les variables \lstinline{name, price, ingredients et id}. La variable \lstinline{id} incrémentera à chaque instanciation de la classe.
		\begin{conseil}
			Pensez à utilisez \lstinline{count} pour initialiser la valeur d'\lstinline{id}. Ainsi, dans le constructeur, \lstinline{id} sera égal à \lstinline{++count}.
		\end{conseil}
		\item Implémentez les \lstinline{getters} des variables \lstinline{id, name, price et ingredients}.
		\item Implémentez les méthodes \lstinline{equals}(Object o) et \lstinline{toString}().
	\end{itemize}
	\begin{conseil}
	La méthode \lstinline{equals} permet de comparer deux objets. Elle prend en entrée un objet de type \lstinline{Object} et doit retourner \lstinline{True} si l'objet instancié est égal à l'objet passé en paramètre.
	\end{conseil}
		\begin{solution}  
			\lstinputlisting{solutions/solution1.java} 
		\end{solution}
	\end{Exercice}
	
	
	\begin{Exercice}[10 minutes]{Classe abstraite et types d'attributs}
	\begin{itemize}
		\item Implémentez une classe abstraite \lstinline{Figure} contenant deux attributs protégés : \lstinline{largeur} et \lstinline{longueur} et deux méthodes abstraites : \lstinline{getaire}()et \lstinline{getperimetre}().
		\item Créez deux classes \lstinline{Carre} et \lstinline{Rectangle} qui héritent de la classe \lstinline{Figure}. À l'intérieur de ces classes, implémentez les méthodes \lstinline{getaire()} et \lstinline{getperimetre()}.
	\end{itemize}
	
	\begin{conseil}
		Un attribut protégé est accessible aussi bien dans la classe-mère que dans la(les) classe(s)-fille(s). On utilise le mot clé \lstinline{protected} pour rendre les attributs protégés. \\
		Pour rappel, pour créer une classe fille, utiliser le mot-clé \lstinline{extends}:\lstinline{public class Carre extends Figure}.
	\end{conseil}
	
	
	\begin{solution}
	\lstinputlisting{solutions/Figure.java} 
	\end{solution}
	\end{Exercice}
	
	\newpage
	\section{Interfaces}
	\begin{note}{Maeva}
		Ceci devrait être un exercice avancé
	\end{note}
	\begin{Exercice}[10 minutes]{Interface et héritage (\faLink~~Liée à la question 1)}\\
	
	En Java, une interface se déclare comme suit:
	\lstinputlisting{ressources/interface_exemple1.java} 
	
	Les méthodes déclarées dans une interface doivent être implémentées dans des sous-classes :
	
	\lstinputlisting{ressources/interface_exemple2.java} 
	\begin{itemize}
		\item Implémentez une interface \lstinline{Edible} contenant une méthode \lstinline{eatMe} qui ne retourne aucune valeur.
		\item Implémentez une interface \lstinline{Drinkable} contenant une méthode \lstinline{drinkMe} qui ne retourne aucune valeur.
		\item Implémentez une classe \lstinline{Food} qui hérite la classe \lstinline{Item} (définie dans la section 1) et qui implémente l'interface \lstinline{Edible}. Implémentez le constructeur de \lstinline{Food} et la méthode \lstinline{eatMe} (dans la classe \lstinline{Food}).
	\end{itemize}
	
	\begin{conseil}
	Vous pouvez reprendre la classe \lstinline{Item} du premier exercice.\\
	Dans la méthode \lstinline{eatMe()}, vous pouvez simplement afficher un message en utilisant un \lstinline{println}.
	\end{conseil}
	
	Certains aliments ne sont pas seulement \lstinline{Edible} (mangeable) mais aussi \lstinline{Drinkable} (buvable) comme les soupes par exemple.\\
	
	4. Implémentez une classe \lstinline{Soup} qui hérite de \lstinline{Food} et implémente l'interface \lstinline{Drinkable}. Ensuite, implémentez à la fois un constructeur pour \lstinline{Soup} ainsi que la méthode \lstinline{drinkMe} (dans la classe \lstinline{Soup}).\\
	
	Vous pouvez ensuite créer des instances de \lstinline{Soup} et \lstinline{Food} à l'aide des lignes suivantes pour tester les méthodes \lstinline{eatMe()} et \lstinline{drinkMe()}.
	\lstinputlisting{ressources/fin_interface.java} 
	
	\begin{solution}
	\lstinputlisting{solutions/interface.java} 
	\end{solution}
	\end{Exercice}
	
	\newpage
	

\section{Exercices complémentaires}

% Exercice nombres impaire - Maeva
\begin{Exercice}[10 minutes] \textbf{Programmation de base}\\
	Ecrivez un programme Python qui imprime tous les nombres impairs à partir de 1 jusqu’à un nombre \lstinline{n} défini par l’utilisateur. Ce nombre \lstinline{n} doit être supérieur à 1.
	Exemple : si n = 6, résultat attendu : 1, 3, 5
% Solutions nombres impaire - Maeva
	\begin{solution}
   		 \lstinputlisting{solutions/exercise3.py}
	\end{solution}
\end{Exercice}



\end{document}