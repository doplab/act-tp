\input{../header.tex}

\usepackage{array}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\begin{document}

% Change the following values to true to show the solutions or/and the hints
\ShowSolutiontrue
\ShowConseiltrue
\titre
\cours{Architecture des ordinateurs}

Le but de cette séance est de comprendre le fonctionnement d'un ordinateur. La série d'exercices sera axée autour de de conversions en base binaire, décimale ou hexadécimal, de calcul de base en suivant le modèle Von Neumann. \\

\section{Conversions}

\begin{Exercice}[5 minutes]  \textbf{Conversion $Base_{10}$ - $Base_2$}\\
    \begin{enumerate}
        \item Convertir le nombre 10$_{(10)}$ en base 2.
        \item Convertir le nombre 45$_{(10)}$ en base 2.
        \item Convertir le nombre 173$_{(10)}$ en base 2.
    \end{enumerate}

    \begin{conseil}
        TODO: Conseils pour passer de la base décimale à la base binaire \\
        Useful link: http://www.circuits-logiques.polymtl.ca/help/Chapitre05.pdf
    \end{conseil}
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}
\end{Exercice}


\begin{Exercice}[15 minutes]  \textbf{Conversion $Base_{10}$ - $Base_3$, $Base_8$, $Base_{16}$}\\
    \begin{enumerate}
        \item Convertir le nombre 40$_{(10)}$ en base 8.
        \item Convertir le nombre 52$_{(10)}$ en base 3.
        \item Convertir le nombre 254$_{(10)}$ en base 16.
    \end{enumerate}

    \begin{conseil}
        TODO: Conseils pour passer de la base décimale aux bases 3, 8 et 16.
    \end{conseil}
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}
\end{Exercice}

\begin{Exercice}[15 minutes] \textbf{Conversion $Base_{3}$ - $Base_{16}$ en $Base_8$}
    \begin{enumerate}
        \item Convertir le nombre 10110$_{(2)}$ en base 10.
        \item Convertir le nombre 4321$_{(5)}$ en base 10.
        \item Convertir le nombre ABC$_{(16)}$ en base 10.
    \end{enumerate}
    \begin{conseil}
        TODO: Conseils pour passer des bases 3 et 16 à la base 10.
    \end{conseil}
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}

\end{Exercice}
\newpage

\section{Arithmétique binaire}

\begin{Exercice}[15 minutes] \textbf{Addition de nombres binaires}
    \begin{enumerate}
        \item Additionner \lstinline{01010101}$_{(2)}$ et \lstinline{10101010}$_{(2)}$
        \item Additionner \lstinline{01011111}$_{(2)}$ et \lstinline{10000001}$_{(2)}$
        \item Additionner \lstinline{01110100}$_{(2)}$ et \lstinline{00011010}$_{(2)}$
    \end{enumerate}
    \begin{conseil}
\textbf{Table d'addition binaire:}\\
        \begin{tabular}{| C{0.1\textwidth} | C{0.1\textwidth} | C{0.1\textwidth} | C{0.1\textwidth} |} 
            \hline
            \textbf{a} & \textbf{b} & \textbf{s=a+b} & \textbf{r}\\ [0.5ex]
            \hline
            0 & 0 & 0 & 0 \\ [0.5ex] 
            \hline
            0 & 1 & 1 & 0 \\ [0.5ex] 
            \hline
            1 & 0 & 1 & 0 \\ [0.5ex] 
            \hline
            1 & 1 & 0 & 1 \\ [0.5ex] 
            \hline
        \end{tabular}
    \end{conseil}
    TODO: Rajouter un exemple
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}
\end{Exercice}

\begin{Exercice}[15 minutes] \textbf{Soustraction de nombres binaires}\\
    Effectuer les opérations suivantes:

    \begin{enumerate}
        \item 01111111$_{(2)}$ - 01000000$_{(2)}$
        \item 10000000$_{(2)}$ - 00000001$_{(2)}$
        \item 10101010$_{(2)}$ - 01010101$_{(2)}$
    \end{enumerate}

    \begin{conseil}
        \textbf{Table de soustraction binaire:}\\
        \begin{tabular}{| C{0.1\textwidth} | C{0.1\textwidth} | C{0.1\textwidth} | C{0.1\textwidth} |} 
            \hline
            \textbf{a} & \textbf{b} & \textbf{s=a-b} & \textbf{r}\\ [0.5ex]
            \hline
            0 & 0 & 0 & 0 \\ [0.5ex] 
            \hline
            0 & 1 & 1 & 1 \\ [0.5ex] 
            \hline
            1 & 0 & 1 & 0 \\ [0.5ex] 
            \hline
            1 & 1 & 0 & 0 \\ [0.5ex] 
            \hline
        \end{tabular}
    \end{conseil}
    TODO: Rajouter un exemple
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}

    \textbf{\\ \faTerminal  Exemple:}
        \begin{figure}[h]
            \centering
            \includegraphics[width=0.52\textwidth]{img/substract.png}
            \caption{Exemple de soustraction de nombres binaires}
        \end{figure}

\end{Exercice}
\newpage
\section{Conversion et arithmétique}
\begin{Exercice}[20 minutes] \textbf{Conversion et addition:}\\
    Effectuer les opérations suivantes:
    \begin{enumerate}
        \item 111101$_{(2)}$ + 110$_{(2)}$ = ...$_{(10)}$
        \item 111111$_{(2)}$ + 000001$_{(2)}$ = ...$_{(10)}$
        \item 127$_{(10)}$ + ABC$_{(16)}$ = ...$_{(8)}$
    \end{enumerate}
    \begin{conseil}
        Calculez à l'aide du tableau d'addition binaire ci-dessus ou une autre méthode que vous préférez.\\
        Additionnez les nombres lorsqu'ils sont dans la même base puis convertissez les dans la base souhaitée.\\\\
        Rappel: Les valeurs en hexadécimale (base 16)\\
        \begin{tabular}{| C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} |} 
            \hline
            \textbf{0} & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6} & \textbf{7} & \textbf{8} & \textbf{9} & \textbf{A} & \textbf{B} & \textbf{C} & \textbf{D} & \textbf{E} & \textbf{F}\\ [0.5ex]
            \hline
            0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 \\ [0.5ex] 
            \hline
        \end{tabular}        
    \end{conseil}
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}
    \textbf{\\ \faTerminal  Solutions:}
    
    \textbf{1.}\\
    Calcul du résultat en base 2:\\
    111101$_{(2)}$ + 110$_{(2)}$ = 1000011$_{(2)}$\\\\
    Conversion en base décimale:\\
    1000011$_{(2)}$ = 67$_{(10)}$\\\\
    Réponse :\\
    111101$_{(2)}$ + 110$_{(2)}$ = \textbf{67$_{(10)}$}
    
    \begin{figure}[h]
        \includegraphics[width=0.62\textwidth]{img/6.1.png}
    \end{figure}

    \textbf{2.}\\
    Calcul du résultat en base 2:\\
    111111$_{(2)}$ + 000001$_{(2)}$ = 1000000$_{(2)}$\\\\
    Conversion en base décimale:\\
    1000000$_{(2)}$ = 64$_{(10)}$\\\\
    Réponse :\\
    111111$_{(2)}$ + 000001$_{(2)}$ = \textbf{64$_{(10)}$}\\


\newpage
    \textbf{3.}\\
    ABC$_{(16)}$ = 2748$_{(10)}$ (Conversion en base 10)\\
    \begin{figure}[h]
        \includegraphics[width=0.52\textwidth]{img/6.3.1.png}
    \end{figure}  
    
    127$_{(10)}$ + 2748$_{(10)}$ = 2875$_{(10)}$ = 2875\\

    En commençant par zéro, augmentez 8 à des puissances entières de plus en plus grandes jusqu'à ce que le résultat dépasse 2875.\\
    \begin{figure}[h]
        \includegraphics[width=0.36\textwidth]{img/6.3.2.png}
    \end{figure}\\
    Déterminez les puissances de 8 qui seront utilisées pour placer les chiffres dans la représentation en base 8.\\

    $8^3$   $8^2$   $8^1$   $8^0$ \\

    Déterminez la valeur du premier chiffre en partant de la droite (correspondant à $8^0$) grâce au reste de la divsion entière.\\
    2875 / 8 = 359 avec un reste de \textbf{3}\\\\
    Divisez la partie numérique entière du quotient précédent, 359, par 8 et trouvez le reste. Le reste est le chiffre suivant (correspondant à $8^1$):\\
    359 / 8 = 44 avec un reste de \textbf{7}\\\\
    Ainsi de suite... la valeur pour $8^2$:\\
    44 / 8 = 5 avec un reste de \textbf{4}\\\\
    La valeur pour $8^3$:\\
    5 / 8 = 0 avec un reste de \textbf{5}\\

    2875$_{(10)}$ = \textbf{5473$_{(8)}$}

\end{Exercice}

\begin{Exercice}[20 minutes] \textbf{Conversion et soustraction:}\\
    Effectuer les opérations suivantes:
    \begin{enumerate}
        \item 101010$_{(2)}$ - 010101$_{(2)}$ = ...$_{(10)}$
        \item 64$_{(10)}$ - 001000$_{(2)}$ = ...$_{(10)}$
        \item FFF$_{(16)}$ - 127$_{(10)}$ = ...$_{(2)}$
    \end{enumerate}
    \begin{conseil}
            Calculez à l'aide du tableau de soustraction binaire ci-dessus ou une autre méthode que vous préférez.\\
            Additionnez les nombres lorsqu'ils sont dans la même base puis convertissez les dans la base souhaitée.\\\\
            Rappel: Les valeurs en hexadécimale (base 16)\\
            \begin{tabular}{| C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} | C{0.030\textwidth} |} 
            \hline
            \textbf{0} & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6} & \textbf{7} & \textbf{8} & \textbf{9} & \textbf{A} & \textbf{B} & \textbf{C} & \textbf{D} & \textbf{E} & \textbf{F}\\ [0.5ex]
            \hline
            0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 \\ [0.5ex] 
            \hline
        \end{tabular}
    \end{conseil}
    \begin{solution}
        Présenter les étapes détaillées permettant d'aboutir à la solution.
    \end{solution}

    \textbf{\\ \faTerminal  Solutions:}
    
    \textbf{1.}\\
    Calcul du résultat en base 2:\\
    101010$_{(2)}$ - 010101$_{(2)}$ = 1000000$_{(2)}$\\\\
    Conversion en base décimale:\\
    1000000$_{(2)}$ = 64$_{(10)}$\\\\
    Réponse:\\
    101010$_{(2)}$ - 010101$_{(2)}$ = \textbf{64$_{(10)}$}\\
    
    \textbf{2.}\\
    Calcul du résultat en base 2:\\
    111111$_{(2)}$ - 000001$_{(2)}$ = 111110$_{(2)}$\\\\
    Conversion en base décimale:\\
    111110$_{(2)}$ = 62$_{(10)}$\\\\
    Réponse :\\
    111111$_{(2)}$ - 000001$_{(2)}$ = \textbf{62$_{(10)}$}\\

    \textbf{3.}\\
    Conversion de FFF$_{(16)}$ en base 10:\\
    FFF$_{(16)}$ = 1095$_{(10)}$\\\\
    Calcul en base décimale:\\
    4095$_{(10)}$ - 127$_{(10)}$ = 3968$_{(10)}$\\\\
    Convertir 3968$_{(10)}$ en base binaire :\\
    En commençant par zéro, augmentez 2 à des puissances entières de plus en plus grandes jusqu'à ce que le résultat dépasse 3968.\\
    Déterminez les puissances de 2 qui seront utilisées comme les places des chiffres dans la représentation en base 2 de 3968 :
    \begin{figure}[h]
        \includegraphics[width=0.66\textwidth]{img/7.3.png}
    \end{figure}

    Déterminez la valeur du premier chiffre en partant de la droite (correspondant à $2^0$) grâce au reste de la divsion entière.\\
    3968 / 2 = 1984 avec un reste de \textbf{0}\\
    Divisez la partie numérique entière du quotient précédent, 1984, par 2 et trouvez le reste. Le reste est le chiffre suivant (correspondant à $2^1$):\\
    1984 / 2 = 992 avec un reste de \textbf{0}\\
    Ainsi de suite... Pour $2^2$\\
    992 / 2 = 496 avec un reste de \textbf{0}\\
    Pour $2^3$\\
    496 / 2 = 258 avec un reste de \textbf{0}\\
    Pour $2^4$\\
    258 / 2 = 124 avec un reste de \textbf{0}\\
    Pour $2^5$\\
    124 / 2 = 62 avec un reste de \textbf{0}\\
    Pour $2^6$\\
    62 / 2 = 31 avec un reste de \textbf{0}\\
    Pour $2^7$\\
    31 / 2 = 15 avec un reste de \textbf{1}\\
    Pour $2^8$\\
    15 / 2 = 7 avec un reste de \textbf{1}\\
    Pour $2^9$\\
    7 / 2 = 3 avec un reste de \textbf{1}\\
    Pour $2^10$\\
    3 / 2 = 1 avec un reste de \textbf{1}\\
    Pour $2^11$\\
    1 / 2 = 0 avec un reste de \textbf{1}\\\\

    FFF$_{(16)}$ = 111110000000$_{(2)}$\\\\

    Réponse:\\
    FFF$_{(16)}$ - 127$_{(10)}$ = \textbf{111110000000$_{(2)}$}

\end{Exercice}


\newpage
\section{Modèle de Von Neuman}
Dans cette section, nous allons simuler une opération d'addition dans le \textbf{modèle de Van Neumann}, il va vous être demandé à chaque étape (FDES) de donner la valeur des registres.\\

\textbf{État d'origine:}\\
A l'origine, notre \lstinline{Process Counter (PC)} vaut \lstinline{00100000}.\\

Dans la mémoire, les instructions sont les suivantes:

\begin{tabular}{| C{0.1\textwidth} | C{0.1\textwidth} |} 
    \hline
    \textbf{Adresse} & \textbf{Valeur}\\ [0.5ex]
    \hline
    00011111 & 00100100\\ [0.5ex] 
    \hline
    00100000 & 10110110\\ [0.5ex] 
    \hline
    00100001 & 11101101\\ [0.5ex]
    \hline
\end{tabular}
\\\\
Les registres sont les suivantes:

\begin{tabular}{| C{0.1\textwidth} | C{0.1\textwidth} |} 
    \hline
    \textbf{Registre} & \textbf{Valeur}\\ [0.5ex]
    \hline
    00 & 11100011\\ [0.5ex] 
    \hline
    01 & 01101100\\ [0.5ex] 
    \hline
    10 & 00100101\\ [0.5ex] 
    \hline
    11 & 00000000\\ [0.5ex]
    \hline
\end{tabular}
\\\\
Les opérations disponibles pour l'unité de contrôle sont les suivantes:
\\
\begin{tabular}{| C{0.1\textwidth} | C{0.1\textwidth} |} 
    \hline
    \textbf{Numéro} & \textbf{Valeur}\\ [0.5ex]
    \hline
    00 & MOV\\ [0.5ex] 
    \hline
    01 & XOR\\ [0.5ex] 
    \hline
    10 & ADD\\ [0.5ex] 
    \hline
    11 & SUB\\ [0.5ex]
    \hline
\end{tabular}
\\\\


\begin{Exercice}[5 minutes]\textbf{Fetch}\\
    À la fin de l'opération \lstinline{FETCH}, quelles sont les valeurs du \lstinline{Process Counter} et de l'\lstinline{Instruction Register}?
\end{Exercice}

\begin{Exercice}[5 minutes] \textbf{Decode}
    \begin{enumerate}
        \item Quelle est la valeur de l'opération à exécuter?
        \item Quelle est l'adresse du registre dans lequel le résultat doit être enregistré?
        \item Quelle est la valeur du premier nombre de l'opération?
        \item Quelle est la valeur du deuxième nombre de l'opération?
    \end{enumerate}
\end{Exercice}

\begin{Exercice}[5 minutes] \textbf{Execute}\\
    Quel est résultat de l'opération?
\end{Exercice}

\begin{conseil}
    
\end{conseil}
\begin{solution}
    Présenter les étapes détaillées permettant d'aboutir à la solution.
\end{solution}

\end{document}