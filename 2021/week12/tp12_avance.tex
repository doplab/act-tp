
\input{../header.tex}
\usepackage{array}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\begin{document}
% Change the following values to true to show the solutions or/and the hints
\ShowSolutiontrue
\ShowConseiltrue
\titre
\cours{Programmation orientée objet - Exercices avancés}

Le but de cette séance est de se familiariser avec un paradigme de programmation couramment utilisé: la Programmation Orientée Objet (POO). Ce paradigme consiste en la définition et en l'interaction avec des briques logicielles appelées \lstinline{Objets}. Dans les exercices suivants, nous manipulerons des objets, aborderons les notions de classe, méthodes, attributs et encapsulation. Au terme de cette séance, vous serez en mesure d'écrire des programmes mieux structurés.
Afin d'atteindre ces objectifs, nous utiliserons principalement le langage \lstinline{Java} qui offre une panoplie d'outils pour mieux comprendre ce paradigme de programmation.

Le code présenté dans les énoncés se trouvent sur Moodle, dans le dossier \lstinline{Ressources}.

\section{Manipulation de graphes en POO (Java)}

%\subsection{Introduction}
% TODO: Cette sous-section devrait être convertie en introduction. Les questions sont intéressantes. Toutefois, elles perdent de leur utilité si les étudiants n'ont pas accès aux réponses de façon immédiate. Il serait préférable de les reformuler et de les utiliser comme rappel avant de commencer à faire les exercices suivants.


%Ici, on cherche à pousser votre réflexion sur le processus de conception de classes pour implémenter un concept existant en dehors de la programmation.
%Pour cela, il faut se placer du point de vue de l'utilisateur pour savoir ce dont il aurait besoin. 
%Il faut aussi savoir de quoi est constitué le concept que l'on cherche à implémenter. C'est-à-dire, pour utiliser une analogie, les différentes briques qui sont utilisées pour construire le mur qui est votre objet final.

Cette partie constitue un rappel sur la notion de graphe orienté. Avant de traiter les exercices de la partie 3, veuillez répondre aux questions suivantes:
    \begin{enumerate}
        \item Quels sont les composantes d'un \lstinline{graphe orienté} ?
        \item Combien de classes sont nécessaires pour représenter un graphe orienté ainsi que toutes ses composantes?
        \item Sachant que vous avez une classe qui représente les \lstinline{arêtes} et que les \lstinline{sommets} sont représentés par des chaînes de caractères. Quels pourraient être les attributs de la classe \lstinline{graph}.
    \end{enumerate}

Maintenant que vous avez une idée des attributs de la classe \lstinline{graph} à définir, déterminer quelles méthodes sont nécessaires au fonctionnement de cet objet. Pour ce faire, vous pouvez répondre aux questions suivantes:
    \begin{enumerate}
    \item Est-ce que l'utilisateur aura besoin de modifier l'objet une fois celui-ci initialisé ?
    \item Est-ce que l'utilisateur aura besoin de vérifier l'état de l'objet (existence d'attributs, vérification de valeurs...) ou de certaines parties de l'objet ?
    \end{enumerate}

\begin{conseil}
   % Un conseil
   \begin{enumerate}
   \item Revenir sur le cours de la semaine 7 sur Moodle.
   \end{enumerate}
\end{conseil}
    
Voici les réponses aux questions posées ci-dessus. 

\textbf{Certaines questions peuvent avoir plus d'une réponse étant donné qu'il existe plusieurs manières de représenter un graphe en programmation. }
    %\lstinputlisting{solutions/fichier.java}
    \begin{enumerate}
    \item \begin{enumerate}
          \item Les \lstinline{sommets}.
          \item Les \lstinline{arêtes}.
          \item Le \lstinline{poids} de chaque arête.
          \end{enumerate}
    \item Il faut 2 classes ( ou 3 si on cherche à avoir plus d'informations dans les sommets):
        \begin{enumerate}
        \item Une classe \lstinline{Edge} qui va représenter les arêtes.
        \item Une classe \lstinline{Graph}.
        \end{enumerate}
    \item La classe \lstinline{Graph} va avoir 2 attributs: un ensemble contenant les \lstinline{sommets} et un autre ensemble contenant les \lstinline{arêtes} de celui-ci.
    
%    \item Les réponses à cette partie sont courtes mais assez essentielles pour savoir quelles méthodes coder:
 %       \begin{enumerate}
       % \item Oui, l'utilisateur voudra sûrement rajouter des \lstinline{arêtes}, des \lstinline{sommets} ou potentiellement changer le poids d'une \lstinline{arête}. Il faut donc lui laisser cette possibilité
       % \item Les graphs sont souvent accompagnés par des algorithmes de recherche, par exemple l'algorithme de Kruskal pour les \lstinline{weighted graphs}. Il est donc utile de pouvoir identifier si un \lstinline{sommet} ou une \lstinline{arête} sont des composants de l'instance.
       % \item Certaines méthodes pourraient avoir un code très long si on ne ségmentarise pas leur contenu. Cela peut entraver la relecture de votre code par vous ou par un tiers. 
        
       % De plus dans un cadre d'optimisation, il faut éviter un maximum la redondance du code. Il est donc de bonne pratique de définir des méthodes qui vont éviter cela dans une classe.
  %      \end{enumerate}
    \end{enumerate}

%\subsection{Partie 2}
% TODO: Edge doit être mis au singulier pour éviter qu'ils ne confondent l'objet à son instance.

Le code de la classe \lstinline{Edge} est fourni dans le dossier ressources sur Moodle.
Utiliser le fichier \lstinline{Main.java} dans le dossier \lstinline{Ressources} sur Moodle pour effectuer des tests. Une fois exécuté, il devrait afficher:\\

    \includegraphics[height=8cm]{ressources/sortie_juste.PNG}

\newpage

\begin{note}{Maeva}
    Ceci devrait être un exercice avancé
\end{note}
\begin{Exercice}[20 minutes]\\

Voici une partie de la classe \lstinline{graph} codée. Implémentez les méthodes \lstinline{update_weight()}, \lstinline{new_edge()} et \lstinline{edge_exist()}.

         \lstinputlisting{ressources/graph_empty.java}
    \begin{enumerate}
        \item La méthode \lstinline{update_weight()} doit prendre en paramètres: le \lstinline{sommet} d'origine, le \lstinline{sommet} d'arrivée ainsi que le poids d'une \lstinline{arête}. Si cette \lstinline{arête} existe alors elle change son poids. Sinon, elle imprimera une phrase indiquant que l'\lstinline{arête} n'existe pas.
        \item La méthode \lstinline{edge_exist()} prendra en paramètre le \lstinline{sommet} d'origine et le \lstinline{sommet} d'arrivée. Si cette \lstinline{arête} est dans le \lstinline{graph} alors la méthode renvoie son poids, sinon, elle renvoie 0.
        \item La méthode \lstinline{new_edge} doit créer une instance de \lstinline{Edge} et l'ajouter à l'ensemble edges si la connexion n'existe pas déjà. Si elle existe avec un autre poids mettre à jour le poids. Si elle existe de façon identique alors retournez la dans la console avec print. Enfin, si on est dans aucun des deux cas précédents utiliser la méthode \lstinline{generate_edge} qui vous est donnée pour créer et ajouter cette arête au \lstinline{graph}. La méthode \lstinline{new_edge} aura pour paramètres: le \lstinline{sommet} d'origine, le \lstinline{sommet} d'arrivée, le poids.
    \end{enumerate}

    \begin{conseil}
    \begin{enumerate}
    \item Utiliser une boucle \lstinline{for} pour parcourir toutes les \lstinline{arêtes} dans le \lstinline{graph}. Faire un test sur les attributs de \lstinline{Edge} pour changer le poids.
    \item Il faut tester pour chaque \lstinline{arête} ( itération) si elle  est égale à celle donnée en paramètres.
    \item Il faut utiliser les méthodes \lstinline{edge_exist()}, \lstinline{update_edge()} et \lstinline{generate_edge()} pour écrire cette méthode. Il y a 4 tests à effectuer: 
        \begin{enumerate}
        \item Si \lstinline{l'arête} existe.
        \item Si \lstinline{l'arête} existante a le même poids que celle indiquée en paramètre de la méthode.
        \item Si \lstinline{l'arête} existante n'a pas le même poids que celle indiquée en paramètre de la méthode.
        \item Utilisez le résultat de \lstinline{edge_exist} pour simplifier ces tests.
        \end{enumerate}
    \end{enumerate}
    \end{conseil}
    \begin{solution}
    \textbf{Java :}
         \lstinputlisting{ressources/Edge.java}
    \end{solution}
    \begin{solution}
    \textbf{Java :}
         \lstinputlisting{ressources/graph1.java}
    \end{solution}
    % TODO: Découper les fichiers de solutions pour qu'ils tiennent sur une page. Les renommer graph_1.java, graph_2,java par exemple et les mettre dans un dossier "Display" ou "Affichage". Mettre le fichier complet dans le dossier solution.
    \begin{solution}
    \textbf{Java :}
         \lstinputlisting{ressources/graph2.java}
    \end{solution}

\end{Exercice}

\newpage

\end{document}
